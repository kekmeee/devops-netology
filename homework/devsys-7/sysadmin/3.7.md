Домашняя работа по занятию "3.7. Компьютерные сети, лекция 2"
==

1. На лекции мы обсудили, что манипулировать размером окна необходимо для эффективного наполнения приемного буфера
   участников TCP сессии (Flow Control). Подобная проблема в полной мере возникает в сетях с высоким RTT. Например,
   если вы захотите передать 500 Гб бэкап из региона Юга-Восточной Азии на Восточное побережье США.
   [Здесь](https://www.cloudping.co/grid) вы можете увидеть и 200 и 400 мс вполне реального RTT. Подсчитайте, какого
   размера нужно окно TCP чтобы наполнить 1 Гбит/с канал при 300 мс RTT (берем простую ситуацию без потери пакетов).
   Можно воспользоваться готовым [калькулятором](https://www.switch.ch/network/tools/tcp_throughput/). Ознакомиться
   с [формулами](https://en.wikipedia.org/wiki/TCP_tuning), по которым работает калькулятор можно, например, на Wiki.

<h3>Ответ:</h3>



---

2. Во сколько раз упадет пропускная способность канала, если будет 1% потерь пакетов при передаче?

<h3>Ответ:</h3>



---

3. Какая  максимальная реальная скорость передачи данных достижима при линке 100 Мбит/с? Вопрос про TCP payload,
   то есть цифры, которые вы реально увидите в операционной системе в тестах или в браузере при скачивании файлов.
   Повлияет ли размер фрейма на это?
   
<h3>Ответ:</h3>



---

4. Что на самом деле происходит, когда вы открываете сайт? :)
   На прошлой лекции был приведен сокращенный вариант ответа на этот вопрос. Теперь вы знаете намного больше, в
   частности про IP адресацию, DNS и т.д. Опишите максимально подробно насколько вы это можете сделать, что происходит,
   когда вы делаете запрос `curl -I http://netology.ru` с вашей рабочей станции. Предположим, что arp кеш очищен,
   в локальном DNS нет закешированных записей.
   
<h3>Ответ:</h3>



---

5. Сколько и каких итеративных запросов будет сделано при резолве домена `www.google.co.uk`?

<h3>Ответ:</h3>
В моем случае было 4 запроса:

- `127.0.0.53`
- `f.root-servers.net`
- `dns4.nic.uk`
- `ns2.google.com`

````bash
admsec@dev:~$ dig +trace www.google.co.uk

; <<>> DiG 9.16.1-Ubuntu <<>> +trace www.google.co.uk
;; global options: +cmd
.			29218	IN	NS	c.root-servers.net.
...//ЛИШНЕЕ УДАЛЕНО
.			29218	IN	NS	k.root-servers.net.
;; Received 262 bytes from 127.0.0.53#53(127.0.0.53) in 8 ms

uk.			172800	IN	NS	nsa.nic.uk.
...//ЛИШНЕЕ УДАЛЕНО
uk.			86400	IN	DS	43876 8 2 A107ED2AC1BD14D924173BC7E827A1153582072394F9272BA37E2353 BC659603
uk.			86400	IN	RRSIG	DS 8 1 86400 20210429050000 20210416040000 14631 . DIb0f9oSeePYxdwkPJBRAAP7fpvNyxd4IMLRtDKqN+OQjpasFou5un8X i3ODWy6HPIeER2PjX6lof0bTuyw0i1NbwguTHIyhCr3M+Z5NbQfbWv31 2lvKi5siydsbFJp9ooGAfh2JxJLbOO1pb2v+1uzAutWPQeR+lFropVZR i4wrLn1Nr6HtB/zp+tS1kGLKAnsGOQxJtSPOV0EDA4ldOvgC0whq+TdU weCtcB8WFa7MYJVBfa5ZAyxoOMzHPXXYXjb83Ys1Ykn1XTwpeJA+WmY9 oNGWMPW95t47kKQyxMV5Y42Kk3dKeA/fW+6LK7O6X4g936UN00G6CSCw t1THBw==
;; Received 800 bytes from 192.5.5.241#53(f.root-servers.net) in 12 ms

google.co.uk.		172800	IN	NS	ns1.google.com.
...//ЛИШНЕЕ УДАЛЕНО
6qek9gotc8rl190u20rppm84phaaco0t.co.uk.	10800 IN RRSIG NSEC3 8 3 10800 20210516031834 20210411022429 33621 co.uk. FU6uifmhaRU/sI33FUe2v+3/ZnYdqjspYkDrBoHPX2MxWetfvdvoJhwx i+G5yLjfCV8xX4b/mhPoZup6DWGUX+wUugwEubbeqDMs7hMHJdkfVVv9 5fdKCPLMGUzLsadky63VquyCsj4W4g5C//VXpW1yqL7ukxd+00KWErad FNA=
;; Received 650 bytes from 43.230.48.1#53(dns4.nic.uk) in 44 ms

www.google.co.uk.	300	IN	A	173.194.73.94
;; Received 61 bytes from 216.239.34.10#53(ns2.google.com) in 48 ms

````

---

6. Сколько доступно для назначения хостам адресов в подсети `/25`? А в подсети с маской `255.248.0.0`.
   Постарайтесь потренироваться в ручных вычислениях чтобы немного набить руку, не пользоваться калькулятором сразу.
   
<h3>Ответ:</h3>

В маске подсети часть, заполненная `0`, является адресным пространством. Таким образом:
````
максимальный размер маски - текущая маска = адресное пространство
````
Чтобы узнать количество адресов в адресном пространстве необходимо число 2 возвести в степень `адресного пространства`.
````
2^(адресное пространоство) = количество адресов
````
Для подсети `/25` доступно `128 адресов`:
````
32 - 25 = 7
2 в степени 7 = 128
````
В подсети с маской `255.248.0.0` доступно `524 288 адресов`:
- октет 255 в двоичной системе имеет 8 единиц
- октет 248 в двоичной системе имеет 5 единиц
````
32 - (8 + 5) = 19
2 в степени 19 = 524 288
````

---

7. В какой подсети больше адресов, в `/23` или `/24`?

<h3>Ответ:</h3>

В подсети `/23` больше адресов, чем в `/24`.

Чем меньше маска подсети, тем больше адресное пространство. 
Отталкиваясь от ответа на вопрос `6` можно подсчитать количество адресов.

Для подсети `/23`:
````
32 - 23 = 9
2 в степени 9 = 512
````
Для подсети `/24`:
````
32 - 24 = 8
2 в степени 8 = 256
````
---

8. Получится ли разделить диапазон `10.0.0.0/8` на 128 подсетей по 131070 адресов в каждой? Какая маска будет у
   таких подсетей?
   
<h3>Ответ:</h3>

Сеть с маской `/8` поддерживает 16 777 216 адресов:
````
32 - 8 = 24
2 в степени 24 = 16 777 216
````
Для каждой подсети доступно 131 072 адреса:
````
16 777 216 / 128 = 131 072
````
Маска для каждой подсети будет равна `/17`:
````
2 в степени 17 = 131 072
````
В итоге диапазон `10.0.0.0/8` можно разделить на 128 подсетей по 131070 адресов в каждой
(плюс два адреса в каждой подсети в резерве). Маской каждой из подсети будет равна `/17`.